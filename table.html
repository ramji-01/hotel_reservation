<html>
	<head>
		<title>Users Booked History</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	</head>
	<body>
	<style>
	body {
		background-image: url('images/steak.jpg');
		background-attachment: fixed;
		background-size: cover;
	}
	thead {
    font-size: 16px;
    color: white;
	text-decoration: none;
	}
	tbody {
    font-size: 16px;
    color: white;
	text-decoration: none;
	}
	</style>
	<div class="container">
		<table class="table">
		<thead>
			<th>No.</th>
			<th>Last Name</th>
			<th>Date</th>
			<th>Email</th>
			<th>Subject</th>
		</thead>
		<tbody id="tbody1">

		</tbody>
		</table>
	</div>	
		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/8.4.0/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/8.4.0/firebase-database.js"></script>

		<!-- TODO: Add SDKs for Firebase products that you want to use
		https://firebase.google.com/docs/web/setup#available-libraries -->
		<script src="https://www.gstatic.com/firebasejs/8.4.0/firebase-analytics.js"></script>
		<script id="MainScript">
		// Your web app's Firebase configuration
		// For Firebase JS SDK v7.20.0 and later, measurementId is optional
		var firebaseConfig = {
			apiKey: "AIzaSyCA34h3SwPvf5dPUxsExf05W0qwKzaDR6s",
			authDomain: "reservation-74e12.firebaseapp.com",
			databaseURL: "https://reservation-74e12-default-rtdb.firebaseio.com",
			projectId: "reservation-74e12",
			storageBucket: "reservation-74e12.appspot.com",
			messagingSenderId: "822665539583",
			appId: "1:822665539583:web:61f1b200eb29050ee501ca",
			measurementId: "G-56Y98GX3LS"
		};
		// Initialize Firebase
		firebase.initializeApp(firebaseConfig);
		firebase.analytics();
		
		function SelectAllData(){
			firebase.database().ref('users').once('value',
			function(AllRecords){
				AllRecords.forEach(
					function(CurrentRecord){
						var l = CurrentRecord.val().Last_name;
						var d = CurrentRecord.val().Date;
						var e = CurrentRecord.val().Email;
						var s = CurrentRecord.val().Subject;
						AddItemsToTable(l,d,e,s);
					}
				);
			});
		}
		
		window.onload = SelectAllData;
		
		var stdNo = 0;
		function AddItemsToTable(l,d,e,s){
			var tbody = document.getElementById('tbody1');
			var trow = document.createElement('tr');
			var td1 = document.createElement('td');
			var td3 = document.createElement('td');
			var td4 = document.createElement('td');
			var td5 = document.createElement('td');
			var td6 = document.createElement('td');
			td1.innerHTML = ++stdNo;
			td3.innerHTML = l;
			td4.innerHTML = d;
			td5.innerHTML = e;
			td6.innerHTML = s;
			trow.appendChild(td1);
			trow.appendChild(td3);
			trow.appendChild(td4);
			trow.appendChild(td5);
			trow.appendChild(td6);
			tbody.appendChild(trow);
		}
		</script>
	</body>
</html>
	